{% extends 'base.html.twig' %}

{% block title %}Diagnostique.
{% endblock %}

{% block body %}
	<main>
		<!--? Hero Start -->
		<div class="slider-area2">
			<div class="slider-height2 d-flex align-items-center">
				<div class="container">
					<div class="row">
						<div class="col-xl-12">
							<div class="hero-cap hero-cap2 text-center">
								<h2>Diagnostique
								</h2>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Hero End -->

		<!--? All startups Start -->
		<div
			class="all-starups-area testimonial-area fix">
			<!-- left Contents -->
			<div
				class="starups">
				<!--? Testimonial Start -->
				<div
					class="h1-testimonial-active">
					<!-- Single Testimonial -->
					<div
						class="single-testimonial text-center">
						<!-- Testimonial Content -->
						<div class="testimonial-caption ">
							<div class="testimonial-top-cap">
								<img src="assets/img/gallery/testimonial.png" alt="">
								<p>“I am at an age where I just want to be fit and healthy our bodies are our responsibility! So start caring for your body and it will care for you. Eat clean it will care for yout hard.”</p>
							</div>
							<!-- founder -->
							<div class="testimonial-founder d-flex align-items-center justify-content-center">
								<div class="founder-img">
									<img src="assets/img/gallery/Homepage_testi.png" alt="">
								</div>
								<div class="founder-text">
									<span>Margaret Lawson</span>
									<p>Chif Photographer</p>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- Testimonial End -->
			</div>
			<!--Right Contents  -->
			<div class="starups-img"></div>
		</div>
		<!--All startups End -->
		<!--? Gallery Area Start -->
		<div class="gallery-area section-padding30">
			<div
				class="container">
				<!-- Section Tittle -->
				<div class="row justify-content-center">
					<div class="col-lg-6">
						<div class="section-tittle text-center mb-100">
							<span>Our Gellary</span>
							<h2>Our Medical Camp</h2>
						</div>
					</div>
				</div>
				<div
					class="row">
					<!-- Left -->
					<div class="col-lg-6">
						<div class="row">
							<div class="col-lg-12">
								<div class="single-gallery mb-30">
									<div class="gallery-img big-img" style="background-image: url(assets/img/gallery/gallery1.png);"></div>
								</div>
							</div>
							<div class="col-lg-6 col-md-6 col-sm-6">
								<div class="single-gallery mb-30">
									<div class="gallery-img small-img" style="background-image: url(assets/img/gallery/gallery2.png);"></div>
								</div>
							</div>
							<div class="col-lg-6 col-md-6 col-sm-6">
								<div class="single-gallery mb-30">
									<div class="gallery-img small-img" style="background-image: url(assets/img/gallery/gallery3.png);"></div>
								</div>
							</div>
						</div>
					</div>
					<!-- Right -->
					<div class="col-lg-6">
						<div class="row">
							<div class="col-lg-6 col-md-6 col-sm-6">
								<div class="single-gallery mb-30">
									<div class="gallery-img small-img" style="background-image: url(assets/img/gallery/gallery4.png);"></div>
								</div>
							</div>
							<div class="col-lg-6 col-md-6 col-sm-6">
								<div class="single-gallery mb-30">
									<div class="gallery-img small-img" style="background-image: url(assets/img/gallery/gallery5.png);"></div>
								</div>
							</div>
							<div class="col-lg-12">
								<div class="single-gallery mb-30">
									<div class="gallery-img big-img" style="background-image: url(assets/img/gallery/gallery6.png);"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Gallery Area End -->

		<!-- Contact form End -->
		<!--? gallery Products Start -->
			<div class="gallery-area fix"> <div class="container-fluid p-0">
				<div class="row no-gutters">
					<div class="col-lg-3 col-md-3 col-sm-6">
						<div class="gallery-box">
							<div class="single-gallery">
								<div class="gallery-img " style="background-image: url(assets/img/gallery/gallery1.png);"></div>
							</div>
						</div>
					</div>
					<div class="col-lg-3 col-md-3 col-sm-6">
						<div class="gallery-box">
							<div class="single-gallery">
								<div class="gallery-img " style="background-image: url(assets/img/gallery/gallery2.png);"></div>
							</div>
						</div>
					</div>
					<div class="col-lg-6 col-md-6 col-sm-6">
						<div class="gallery-box">
							<div class="single-gallery">
								<div class="gallery-img " style="background-image: url(assets/img/gallery/gallery3.png);"></div>
							</div>
						</div>
					</div>
					<div class="col-lg-6 col-md-6 col-sm-6">
						<div class="gallery-box">
							<div class="single-gallery">
								<div class="gallery-img " style="background-image: url(assets/img/gallery/gallery4.png);"></div>
							</div>
						</div>
					</div>
					<div class="col-lg-3 col-md-3 col-sm-6">
						<div class="gallery-box">
							<div class="single-gallery">
								<div class="gallery-img " style="background-image: url(assets/img/gallery/gallery5.png);"></div>
							</div>
						</div>
					</div>
					<div class="col-lg-3 col-md-3 col-sm-6">
						<div class="gallery-box">
							<div class="single-gallery">
								<div class="gallery-img " style="background-image: url(assets/img/gallery/gallery6.png);"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>


		<script>
			let selectedSymptoms = [];

document.getElementById("selectSymptom").addEventListener("click", function () {
let selectedSymptom = document.getElementById("symptoms").value;
if (! selectedSymptom) {
alert("Please select a symptom!");
return;
}

if (! selectedSymptoms.includes(selectedSymptom)) {
selectedSymptoms.push(selectedSymptom);

// Update the list displayed on the page
const selectedSymptomsList = document.getElementById("selectedSymptomsList");
const listItem = document.createElement("li");
listItem.textContent = selectedSymptom.replace(/_/g, ' '); // Format symptom name
selectedSymptomsList.appendChild(listItem);
} else {
alert("This symptom is already selected!");
}

document.getElementById("symptoms").value = ''; // Reset selection
});

document.getElementById("submitSymptoms").addEventListener("click", function () {
let dossierMedicalId = document.getElementById("dossierMedicalId").value;

if (! dossierMedicalId) {
alert("Please enter a dossier ID!");
return;
}

fetch("/diagnose", {
method: "POST",
headers: {
"Content-Type": "application/json"
},
body: JSON.stringify(
{symptoms: selectedSymptoms, dossierMedicalId: dossierMedicalId}
)
}).then(response => response.json()).then(data => {
if (data.disease) {
document.getElementById("diagnosisResult").innerText = "Diagnosis: " + data.disease;
} else {
document.getElementById("diagnosisResult").innerText = "Error: " + data.error;
}
}).catch(error => {
console.error("Error:", error);
document.getElementById("diagnosisResult").innerText = "An error occurred while processing the diagnosis.";
});
});
		</script>
	</main>
{% endblock %}
