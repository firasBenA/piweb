
{% block body %}
    <!-- Navbar Start -->
    <header>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

        <div class="header-area">
            <div class="main-header header-sticky">
                <div class="container-fluid">
                    <div class="row align-items-center">
                        <div class="col-xl-2 col-lg-2 col-md-1">
                            <div class="logo">
                                <a href="#"><img src="assets/img/logo/logo.png" alt="Medical Logo"></a>
                            </div>
                        </div>
                        <div class="col-xl-10 col-lg-10 col-md-10">
                            <div class="menu-main d-flex align-items-center justify-content-end">
                                <div class="main-menu f-right d-none d-lg-block">
                                    <nav>
                                        <ul id="navigation" class="d-flex justify-content-end">
                                            <li><a href="{{ path('home_page') }}">Home</a></li>
                                            <li><a href="{{ path('medecin_dashboard', {'id': medecin.id}) }}">Tableau De Board</a></li>
                                            <li><a href="{{ path('consultation_medecin_list', {'id': medecin.id}) }}">Consultations</a></li>
                                            <li><a href="{{ path('infomed', {'id': medecin.id}) }}">Mes Informations</a></li>
                                        </ul>
                                    </nav>
                                </div>
                                <div class="header-right-btn f-right d-none d-lg-block ml-30">
                                    <a href="#" class="btn header-btn" style="background-color: #007bff; color: white; padding: 10px 20px; border-radius: 5px;">Sign-In</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- Navbar End -->

    <!-- Main Content Start -->
    <div class="container mt-5">
        <h1 class="text-center text-primary fw-bold">üìÖ Liste des Consultations du Dr. {{ medecin.nom }} {{ medecin.prenom }}</h1>

        {% if rendezVous is empty %}
            <p class="text-center text-muted mt-4">Aucun rendez-vous trouv√©.</p>
        {% else %}
            <div class="table-responsive">
                <table class="table table-hover table-striped align-middle shadow-lg rounded">
                    <thead class="table-dark text-center">
                        <tr>
                            <th>ID</th>
                            <th>Date</th>
                            <th>Type</th>
                            <th>Cause</th>
                            <th>Patient</th>
                            <th>Statut</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody class="text-center">
                        {% for rdv in rendezVous %}
                            <tr class="bg-white">
                                <td><strong>#{{ rdv.id }}</strong></td>
                                <td>{{ rdv.date|date('d/m/Y') }}</td>
                                <td>{{ rdv.typeRdv }}</td>
                                <td>{{ rdv.cause }}</td>
                                <td>{{ rdv.patient.nom }} {{ rdv.patient.prenom }}</td>
                                <td>
                                    {% if rdv.statut == 'En attente' %}
                                        <span class="badge bg-warning text-dark">üïí En attente</span>
                                    {% elseif rdv.statut == 'Approuv√©' %}
                                        <span class="badge bg-success">‚úÖ Approuv√©</span>
                                    {% elseif rdv.statut == 'Refus√©' %}
                                        <span class="badge bg-danger">‚ùå Refus√©</span>
                                    {% else %}
                                        <span class="badge bg-secondary">‚ùì En Attente</span>
                                    {% endif %}
                                </td>
                                <td>
                                    <div class="d-flex justify-content-center">
                                        <a href="{{ path('rendezvous_approuver', {'id': rdv.id}) }}" class="btn btn-success btn-sm me-2 shadow-lg">‚úÖ Approuver</a>
                                        <a href="{{ path('rendezvous_refuser', {'id': rdv.id}) }}" class="btn btn-danger btn-sm me-2 shadow-lg">‚ùå Refuser</a>
                                        <a href="{{ path('rendezvous_modifier', {'id': rdv.id}) }}" class="btn btn-warning btn-sm shadow-lg">‚úè Modifier</a>
                                    </div>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        {% endif %}
        
        <!-- Retour au Dashboard Button -->
        <div class="text-center mt-4">
            <a href="{{ path('medecin_dashboard', {'id': medecin.id}) }}" class="btn btn-secondary">Retour au Dashboard</a>
        </div>
    </div>
    <!-- Main Content End -->

    <!-- Footer Start -->
    <footer class="bg-dark text-white text-center py-4 mt-5">
        <!-- Footer Start -->
<div class="footer-area section-bg" style="background-color: #343a40; padding: 60px 0;">
    <div class="container">
        <div class="footer-top footer-padding">
            <div class="row d-flex justify-content-between">
                <div class="col-xl-3 col-lg-3 col-md-4 col-sm-8">
                    <div class="single-footer-caption mb-50">
                        <div class="footer-logo">
                            <a href="index.html"><img src="assets/img/logo/logo2_footer.png" alt="" style="max-width: 180px;"></a>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-5">
                    <div class="single-footer-caption mb-50">
                        <div class="footer-tittle">
                            <h4 class="text-white">About Us</h4>
                            <div class="footer-pera">
                                <p class="info1 text-white">Lorem ipsum dolor sit amet, adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                                <p class="info1 text-white">Lorem ipsum dolor sit amet, adipiscing elit.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-8">
                    <div class="single-footer-caption mb-50">
                        <div class="footer-number mb-50">
                            <h4 class="text-white"><span>+564</span> 7885 3222</h4>
                            <p class="text-white">youremail@gmail.com</p>
                        </div>
                        <div class="footer-form">
                            <div id="mc_embed_signup">
                                <form target="_blank" action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01" method="get" class="subscribe_form relative mail_part" novalidate="true">
                                    <input type="email" name="EMAIL" id="newsletter-form-email" placeholder=" Email Address " class="placeholder hide-on-focus" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Your email address'">
                                    <div class="form-icon">
                                        <button type="submit" name="submit" id="newsletter-submit" class="email_icon newsletter-submit button-contactForm">Send</button>
                                    </div>
                                    <div class="mt-10 info"></div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="row d-flex justify-content-between align-items-center">
                <div class="col-xl-9 col-lg-8">
                    <div class="footer-copy-right">
                        <p class="text-white">
                            Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with
                            <i class="fa fa-heart" aria-hidden="true"></i> by
                            <a href="https://colorlib.com" target="_blank" style="color: #fff; text-decoration: none;">Colorlib</a>
                        </p>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4">
                    <div class="footer-social f-right">
                        <a href="#"><i class="fab fa-twitter" style="color: #fff;"></i></a>
                        <a href="https://www.facebook.com/sai4ull"><i class="fab fa-facebook-f" style="color: #fff;"></i></a>
                        <a href="#"><i class="fas fa-globe" style="color: #fff;"></i></a>
                        <a href="#"><i class="fab fa-instagram" style="color: #fff;"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Footer End -->
    </footer>
    <!-- Footer End -->

{% endblock %}

{% block stylesheets %}
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
{% endblock %}

{% block javascripts %}
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
{% endblock %}

<style>
    body {
        background-color: #f0f8ff;
        font-family: 'Poppins', sans-serif;
    }

    /* Navbar Styling */
    .header-area {
        background: #fff;
        padding: 10px 0;
        box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    }

    .main-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .menu-main {
        display: flex;
        align-items: center;
    }

    .main-menu nav ul {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        justify-content: flex-end; /* Aligner les √©l√©ments √† droite */
    }

    .main-menu nav ul li {
        position: relative;
        margin: 0 15px;
    }

    .main-menu nav ul li a {
        text-decoration: none;
        color: #000;
        font-weight: normal; /* Retirer le gras */
        font-size: 16px;
        padding: 10px 15px;
        display: block;
    }

    .main-menu nav ul li a:hover {
        color: #007bff;
    }

    .header-right-btn {
        margin-left: 30px;
    }

    .header-btn {
        background-color: #007bff;
        color: white;
        padding: 10px 20px;
        border-radius: 5px;
        text-decoration: none;
        font-weight: bold;
    }

    .header-btn:hover {
        background-color: #0056b3;
    }

    /* Footer Styling */
    footer {
        background-color: #343a40;
        color: #fff;
    }

    .social-links a {
        font-size: 20px;
        transition: color 0.3s;
    }

    .social-links a:hover {
        color: #007bff;
    }

    .btn-secondary {
        background-color: #6c757d;
        color: white;
        padding: 10px 20px;
        border-radius: 5px;
        text-decoration: none;
        font-weight: bold;
    }

    .btn-secondary:hover {
        background-color: #5a6268;
    }

    /* Table Styling */
    .table {
        border-radius: 12px;
        overflow: hidden;
    }
    .table thead {
        background-color: #343a40;
        color: white;
    }
    .table tbody tr:hover {
        background-color: #e3f2fd;
        transition: 0.3s ease-in-out;
    }
    .btn {
        transition: all 0.3s ease-in-out;
    }
    .btn:hover {
        transform: scale(1.05);
    }
    .badge {
        font-size: 14px;
        padding: 8px 12px;
        border-radius: 8px;
    }
    .table th, .table td {
        vertical-align: middle;
    }
    .table th {
        font-size: 16px;
    }
    .table td {
        font-size: 14px;
    }
</style>
